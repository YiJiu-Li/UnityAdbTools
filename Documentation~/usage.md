# Unity ADB Tools 使用文档

Unity ADB Tools是一个功能强大的Unity编辑器扩展工具，用于连接Android设备、调试和构建Android应用程序。本文档提供了详细的使用说明和配置选项。

## 目录
1. [ADB设备连接器](#adb设备连接器)
2. [Android应用构建工具](#android应用构建工具)
3. [常见问题](#常见问题)

## ADB设备连接器

### ADB配置

首次打开工具时，系统会尝试自动检测ADB路径。如果未能成功检测，或需要使用不同的ADB路径，可以：

1. 在"ADB路径"输入框中手动输入路径
2. 点击"浏览"按钮选择ADB可执行文件的位置
3. 点击"验证ADB路径"按钮确认路径是否有效

> 注意：ADB路径通常位于Android SDK的platform-tools目录下

如果ADB服务运行异常，可以点击"重启ADB服务"按钮重新启动ADB服务。

### 连接设备

要通过无线方式连接Android设备，请按照以下步骤操作：

1. 通过USB数据线连接Android设备和电脑
2. 确保Android设备已开启USB调试选项
3. 点击"检查设备IP"按钮获取设备IP地址
4. IP地址会自动填入"设备IP地址"输入框
5. 确认端口号（默认为5555）
6. 点击"连接设备"按钮建立无线连接
7. 连接成功后可以拔掉USB数据线

### 设备管理

成功连接后，设备列表部分会显示所有已连接的设备：

- 点击"刷新设备列表"按钮更新设备列表
- 勾选"自动刷新"选项可每5秒自动更新一次设备列表
- 从下拉菜单中选择一个已连接的设备
- 对选中的设备，可以：
  - 点击"断开选中设备"按钮断开连接
  - 点击"检查设备状态"按钮查看设备详细信息

### 高级选项

工具提供以下高级功能：

- 安装APK：点击"安装APK"按钮，选择APK文件安装到连接的设备

### 操作日志

展开"操作日志"部分可以查看所有操作历史：

- 点击"清空日志"按钮清除所有日志记录
- 点击"复制日志"按钮将日志复制到剪贴板

## Android应用构建工具

### 打开工具

通过菜单打开：ADB > 设置包名并构建Android

### 模板管理

该工具使用模板系统管理不同应用的构建配置：

1. 在"选择模板"下拉菜单中选择一个构建模板
2. 模板参数部分会显示该模板的详细信息：
   - 应用名称
   - 包名
   - 输出目录
   - APK文件名格式

### 版本管理

可以修改应用的版本号：

1. 在"版本号"输入框中输入版本号（例如：1.0.0）
2. 版本代码会自动管理，每次构建后自动增加

### 场景选择

工具会显示项目中的所有场景，您可以：

1. 勾选要包含在构建中的场景
2. 取消勾选不需要包含的场景

### 执行构建

提供两种构建选项：

1. 点击"应用模板参数（设置应用名称和包名）"按钮仅更新Player Settings
2. 点击"打包Android"按钮执行完整的打包流程
3. 点击"打包Android Build And Run"按钮打包并在连接的设备上安装运行

### 构建过程

当点击打包按钮时，工具会：

1. 显示构建信息确认对话框
2. 执行构建过程并显示进度
3. 构建完成后自动增加版本号和版本代码
4. 将APK文件保存到指定的输出目录

## 常见问题

### ADB无法连接设备

如果无法连接设备，请检查：

1. 设备是否已开启USB调试
2. 设备与电脑是否在同一网络
3. 防火墙是否阻止了ADB连接
4. 尝试重启ADB服务
5. 尝试在设备上重新启用USB调试

### APK安装失败

安装APK失败可能由以下原因导致：

1. 设备存储空间不足
2. 应用签名问题
3. 设备已安装相同包名但签名不同的应用
4. 应用要求的最低Android版本高于设备版本

### 打包失败

如果打包失败，请检查：

1. Unity中的Android构建设置是否正确配置
2. 签名设置是否正确（如果使用自定义签名）
3. 检查构建日志了解详细错误信息

### 自动检测ADB路径失败

如果无法自动检测ADB路径：

1. 确认已在Unity编辑器中设置Android SDK路径（Edit > Preferences > External Tools）
2. 手动指定ADB路径
3. 确认Android SDK已正确安装

## 更多信息

有关更多信息和最新更新，请访问GitHub仓库：[https://github.com/YiJiu-Li/UnityAdbTools](https://github.com/YiJiu-Li/UnityAdbTools)
